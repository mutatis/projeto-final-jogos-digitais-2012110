<!DOCTYPE HTML>

<html> 

	<head>
		<title>
                
        Mini Game Portal
                
        </title>        
         
		<!-- Js add por Jefferson Reis -->
		<script src="js/button_2.js"></script>
		<script src="js/fundo_cena.js"></script>
		
		<!-- Js add por Jefferson Reis -->
		 
		 
		 
		<!-- Js game 3 - cath -->
		<script src="js/game3/paleta.js"></script>
		<script src="js/game3/quimical_element_fall.js"></script>
		
		<!-- Js game 3 - cath -->
		 
		 
		 
		<script src="js/scene_menu.js"></script>
		<script src="js/scene_credit.js"></script>
		<script src="js/core/sprite.js"></script>
		<script src="js/core/background.js"></script>
		<script src="js/button.js"></script>
		
		<script src="js/game1/game1.js"></script>
		<script src="js/game2/game2.js"></script>
		<script src="js/game3/game3.js"></script>
		<script src="js/game4/game4.js"></script>
		<script src="js/game5/game5.js"></script>
		<script src="js/game6/game6.js"></script>
		<script src="js/game7/game7.js"></script>
		<script src="js/game8/game8.js"></script>
		<script src="js/game9/game9.js"></script>
		<script src="js/game10/game10.js"></script>
		
		<script src="js/game1/game_1_ball.js"></script>
		<script src="js/game1/game_1_pallete.js"></script>
		<script src="js/game1/game_1_scene_game_over.js"></script>
		<script src="js/game1/game_1_scene_intro.js"></script>
		<script src="js/game1/game_1_scene_level_1.js"></script>
		<script src="js/game1/game_1_scene_the_end.js"></script>
		
		
		<script src="js/game3/game_3_scene_game_over.js"></script>
		<script src="js/game3/game_3_scene_intro.js"></script>
		<script src="js/game3/game_3_scene_level_1.js"></script>
		<script src="js/game3/game_3_scene_the_end.js"></script>
		<script src="js/game3/game_3_scene_instruction.js"></script>
		
		<script src = "js/fundo.js"></script>
		<script src = "js/intro.js"></script>
		<script src = "js/personagem.js"></script>
		<script src = "js/creditos.js"></script>
		<script src = "js/TUTORIAL.js"></script>
		<script src = "js/point.js"></script>
		<script src = "js/inicio.js"></script>
		<script src = "js/fundo_i.js"></script>
		<script src = "js/botao.js"></script>
		
		
		
		
		
   </head>
        
   <body>
   
   <div style = "display:none">
	<video id="video1" nocontrols>
  	<source src="2.mp4" type='video/mp4'>
  	<source src="1.ogg" type='video/ogg'>
   	</video>	
  	</div>
   
   <canvas width="800" height="600" id="main" style="border:1px solid #000000;"></canvas>
   
   </body>
        
   	<script> 
   	
   	var is_chrome = navigator.userAgent.toLowerCase().indexOf('chrome') > -1;
	if (!is_chrome)//!?
	{
		document.write("<h2><br/>VOCE TEM QUE USAR O <a href='http://www.google.com/intl/pt-BR/chrome/browser/'>GOOGLE CHROME</a></h2>");
		
	}
	else
	{  
		      
   	var canvas = document.getElementById("main");
   	var screen = canvas.getContext("2d");
   	
   	var playingVideo = false;
				
		//var video1 = document.getElementsByTagName("video1");
		var video1 = document.getElementById("video1");

		
		function EndVideo()
		{
			
			playingVideo = false;
			currentScene = SCENE.INTRO;
				
		}
   	
   	var SCREENWIDTH = 800;
   	var SCREENHEIGHT = 600;
        
    var paused = false;
    
    var menu = new SceneMenu();
	
	var credit = new SceneCredit();
	
	var game1 = new SceneGame1();
	
	var game2 = new SceneGame2();
	
	var game3 = new SceneGame3();
	
	var game4 = new SceneGame4();
	
	var game5 = new SceneGame5();
	
	var game6 = new SceneGame6();

	var game7 = new SceneGame7();
	
	var game8 = new SceneGame8();
	
	var game9 = new SceneGame9();
	
	var game10 = new SceneGame10();
	
	var intro = new SCENEIntro();
				
		var credito = new SCENECreditos();
		
		var tutorial = new SCENETutorial();
		
		var point = new SCENEPoint();
		
		var play = new Inicio(); 
			
	var SCENE = { MENU: 0, GAME1: 1, GAME2: 2, GAME3: 3, GAME4: 4, GAME5: 5, GAME6: 6, GAME7: 7, GAME8: 8, GAME9: 9, GAME10: 10, CREDIT: 11, INTRO :12, CREDITOS :13, TUTORIAL:14, VIDEO:15, PLAY: 5}
	
	var currentScene = SCENE.PLAY;
	
	load();

	function load()
	{	
		console.log("load");

		if((true))//to do...
		{
			console.log("carreguei");

			loop();
		}
		else
		{
			console.log("nao carreguei");

			setTimeout(load, 30 );
		}
	}

	
	function loop()
	{
		update();

		draw();

		setTimeout(loop, 30 );
	}


	function update()
	{	
		if(paused)
		{
			return;
		}
			
		switch(currentScene)
		{	case SCENE.INTRO:

				{//abre case SCENE.INTRO
					
					intro.update();	

				}//fecha case SCENE.INTRO
				break;
				
				case SCENE.CREDITOS:
				{//abre case SCENE.CREDITOS 
					
					credito.update();

				}//fecha case SCENE.CREDITOS
				break;
			
				case SCENE.POINT:
				{//abre case SCENE.POINT

					point.update();
					
				}//fecha case SCENE.LEVEL01
				break;

				case SCENE.TUTORIAL:
				{//abre case SCENE.TUTORIAL

					tutorial.update();
					
				}//fecha case SCENE.TUTORIAL
				break;			case SCENE.MENU:
			{
				menu.update();	
			}
			break;
			case SCENE.CREDIT:
			{
				credit.update();
			}
			break;
			case SCENE.GAME1:
			{
				game1.update();
			}
			break;
			case SCENE.GAME2:
			{
				game2.update();
			}
			break;
			case SCENE.GAME3:
			{
				game3.update();
			}
			break;
			case SCENE.GAME4:
			{
				game4.update();
			}
			break;
			case SCENE.GAME5:
			{
				game5.update();
			}
			break;
			case SCENE.GAME6:
			{
				game6.update();
			}
			break;
			case SCENE.GAME7:
			{
				game7.update();
			}
			break;
			case SCENE.GAME8:
			{
				game8.update();
			}
			break;
			case SCENE.GAME9:
			{
				game9.update();
			}
			break;
			case SCENE.GAME10:
			{
				game10.update();
			}
			break;
	
			
		}
		
	}


	function draw()
	{
		if(playingVideo)
			{
				screen.drawImage(video1,0,0,SCREENWIDTH,SCREENHEIGHT);
				return;
			}
				
		clear();
		
		if(paused)
		{
			screen.font = "20px Comic Sans MS";
			screen.fillStyle="#000000";
			screen.fillText("PAUSED", (SCREENWIDTH/2), (SCREENHEIGHT/2));
		}

		switch(currentScene)
		{	
			
			case SCENE.PLAY:
				{					
					play.draw();
				}
				break;
				case SCENE.VIDEO:
				{	
					video1.play();
					playingVideo = true;
					document.getElementById('video1').addEventListener('ended',EndVideo,false);
				}
				break;
				case SCENE.INTRO:
				{//abre case SCENE.INTRO
					
					intro.draw();
				
				}//fecha case SCENE.INTRO
				break;

				case SCENE.CREDITOS:
				{//abre case SCENE.CREDITOS

					credito.draw();
				
				}//fecha case SCENE.CREDITOS
				break;

				case SCENE.POINT:
				{//abre case SCENE.POINT
					
					point.draw();

				}//fecha case SCENE.POINT
				break;

				case SCENE.TUTORIAL:
				{//abre case SCENE.TUTORIAL
					
					tutorial.draw();

				}//fecha case SCENE.TUTORIAL
				break;
			case SCENE.MENU:
			{
				menu.draw();	
			}
			break;
			case SCENE.CREDIT:
			{
				credit.draw();
			}
			break;
			case SCENE.GAME1:
			{
				game1.draw();
			}
			break;
			case SCENE.GAME2:
			{
				game2.draw();
			}
			break;
			case SCENE.GAME3:
			{
				game3.draw();
			}
			break;
			case SCENE.GAME4:
			{
				game4.draw();
			}
			break;
			case SCENE.GAME5:
			{
				game5.draw();
			}
			break;
			case SCENE.GAME6:
			{
				game6.draw();
			}
			break;
			case SCENE.GAME7:
			{
				game7.draw();
			}
			break;
			case SCENE.GAME8:
			{
				game8.draw();
			}
			break;
			case SCENE.GAME9:
			{
				game9.draw();
			}
			break;
			case SCENE.GAME10:
			{
				game10.draw();
			}
			break;

		}

	}

	function clear()
	{
		screen.clearRect(0,0,SCREENWIDTH,SCREENHEIGHT);
	}

	window.addEventListener('keydown', key_down, true);
	window.addEventListener('keyup', key_up, true);
	window.addEventListener('mousemove', mouse_move, true);
	window.addEventListener('mouseup', mouse_up, true);
	window.addEventListener('mousedown', mouse_down, true);

	function key_down(key)
	{
		switch(currentScene)
		{	
			case SCENE.INTRO:
				{//abre case SCENE.INTRO
					
					intro.key_down(key);
	
				}//fecha case SCENE.INTRO
				break;

				case SCENE.CREDITOS:
				{//abre case SCENE.CREDITOS

					credito.key_down(key);
				}//fecha SCENE.CREDITOS
				break;

				case SCENE.POINT:
				{//abre case SCENE.POINT
					
					point.key_down(key);

				}//fecha case SCENE.POINT
				break;

				case SCENE.TUTORIAL:
				{//abre case SCENE.TUTORIAL

					tutorial.key_down(key);

				}//fecha case SCENE.TUTORIAL
				break;
			case SCENE.MENU:
			{
				menu.key_down(key);	
			}
			break;
			case SCENE.CREDIT:
			{
				credit.key_down(key);
			}
			break;
			case SCENE.GAME1:
			{
				game1.key_down(key);
			}
			break;
			case SCENE.GAME2:
			{
				game2.key_down(key);
			}
			break;
			case SCENE.GAME3:
			{
				game3.key_down(key);
			}
			break;
			case SCENE.GAME4:
			{
				game4.key_down(key);
			}
			break;
			case SCENE.GAME5:
			{
				game5.key_down(key);
			}
			break;
			case SCENE.GAME6:
			{
				game6.key_down(key);
			}
			break;
			case SCENE.GAME7:
			{
				game7.key_down(key);
			}
			break;
			case SCENE.GAME8:
			{
				game8.key_down(key);
			}
			break;
			case SCENE.GAME9:
			{
				game9.key_down(key);
			}
			break;
			case SCENE.GAME10:
			{
				game10.key_down(key);
			}
			break;

		}
	}

	function key_up(key)
	{
		switch(currentScene)
		{	
			case SCENE.INTRO:
				{//abre case SCENE.INTRO

					intro.key_up(key);

				}//fecha case SCENE.INTRO
				break;
		
				case SCENE.CREDITOS:
				{//abre case SCENE.CREDITOS

					credito.key_up(key);
		
				}//fecha case SCENE.CREDITOS
				break;

				case SCENE.POINT:
				{//abre case SCENE.POINT

					point.key_up(key);

				}//fecha case SCENE.POINT
				break;

				case SCENE.TUTORIAL:
				{//abre case SCENE.TUTORIAL

					tutorial.key_up(key);
				
				}//fecha case SCENE.TUTORIAL
				break;		
			case SCENE.MENU:
			{
				menu.key_up(key);	
			}
			break;
			case SCENE.CREDIT:
			{
				credit.key_up(key);
			}
			break;
			case SCENE.GAME1:
			{
				game1.key_up(key);
			}
			break;
			case SCENE.GAME2:
			{
				game2.key_up(key);
			}
			break;
			case SCENE.GAME3:
			{
				game3.key_up(key);
			}
			break;
			case SCENE.GAME4:
			{
				game4.key_up(key);
			}
			break;
			case SCENE.GAME5:
			{
				game5.key_up(key);
			}
			break;
			case SCENE.GAME6:
			{
				game6.key_up(key);
			}
			break;
			case SCENE.GAME7:
			{
				game7.key_up(key);
			}
			break;
			case SCENE.GAME8:
			{
				game8.key_up(key);
			}
			break;
			case SCENE.GAME9:
			{
				game9.key_up(key);
			}
			break;
			case SCENE.GAME10:
			{
				game10.key_up(key);
			}
			break;
		}
	}
	function mouse_move(mouse)
	{

	}

	function mouse_up(mouse)
	{

	}


	function mouse_down(mouse)
	{
		switch(currentScene)
		{
			case SCENE.PLAY:
				{
					play.mouse_down(mouse);	
				}

				case SCENE.INTRO:
				{//abre case SCENE.INTRO
					
					intro.mouse_down(mouse);
				
				}//fecha case SCENE.INTRO
				break;
				
				case SCENE.CREDITOS:
				{//abre case SCENE.CREDITOS

					credito.mouse_down(mouse);
				
				}//fecha case SCENE.CREDITOS
				break;

				case SCENE.POINT:
				{//abre case SCENE.POINT

					point.mouse_down(mouse);
				
				}
				break;

				case SCENE.TUTORIAL:
				{//abre case SCENE.TUTORIAL
					
					tutorial.mouse_down(mouse);

				}//fecha case SCENE.TUTORIAL
				break;
			case SCENE.MENU:
			{
				menu.mouse_down(mouse);	
			}
			break;
			case SCENE.CREDIT:
			{
				credit.mouse_down(mouse);
			}
			break;
			case SCENE.GAME1:
			{
				game1.mouse_down(mouse);
			}
			break;
			case SCENE.GAME2:
			{
				game2.mouse_down(mouse);
			}
			break;
			case SCENE.GAME3:
			{
				game3.mouse_down(mouse);
			}
			break;
			case SCENE.GAME4:
			{
				game4.mouse_down(mouse);
			}
			break;
			case SCENE.GAME5:
			{
				game5.mouse_down(mouse);
			}
			break;
			case SCENE.GAME6:
			{
				game6.mouse_down(mouse);
			}
			break;
			case SCENE.GAME7:
			{
				game7.mouse_down(mouse);
			}
			break;
			case SCENE.GAME8:
			{
				game8.mouse_down(mouse);
			}
			break;
			case SCENE.GAME9:
			{
				game9.mouse_down(mouse);
			}
			break;
			case SCENE.GAME10:
			{
				game10.mouse_down(mouse);
			}
			break;


		}
	}


	function Collide(x1, y1, w1, h1, x2, y2, w2, h2)
	{	
		if((x1+w1<x2)//se rect1 esquerda rect2
		||(x1>x2+w2)//se rect1 direita rect2
		||(y1+h1<y2)//se rect1 acima rect2
		||(y1>y2+h2))//se rect1 abaixo rect2
		{
			return false;
		}
		else
		{
			return true;
		}
	}

	}

</script>

</body>

</html>